<div align="center">
<H1>Kubernetes Storage Objects</H1>
</div>
<br>

Для хранения данных в K8s используются тома, хранилища, которые имеют разные назначения и характеристики.  
Виды Storage Objects:

## 1. Ephemeral volumes

Объекты временных хранилищ данных:

 - **СonfigMap и secret** — служебные тома, позволяют создать в контейнере том с файлами из манифестов Kubernetes.  
     - ConfigMap - передает в под конфигурационные файлы или переменные.
     - Secret - используется для создания секретов. Шифруется в формате Base64.

 - **EmptyDir** — временный том, создаётся только на время жизни пода. Удобно использовать для тестирования или хранения временных данных.
Когда pod удаляется, том типа emptyDir тоже удаляется и все данные пропадают.  

 - **Generic Ephemeral Volumes** - временные тома, созданные на основе существующих **StorageClass**.

## 2. Persistent Volumes

Объекты постоянных хранилищ данных:

 - **Persistent Volume Claim (PVC)** — запрос на выделение PV. С помощью PVC можно управлять хранилищем кластера, путем динамического выделения и подключения к подам блочных дисков с необходимыми характеристиками.

 - **PersistentVolume** – это часть хранилища в кластере, которая была предоставлена администратором или динамически подготовлена с использованием **StorageClass**.

 - **StorageClass** - предоставляет администраторам возможность описать «классы» хранения.  
Администраторы кластера должны иметь возможность предлагать множество **PersistentVolumes**, отличающихся не только размером и режимами доступа, но и не раскрывать пользователям детали реализации этих томов.

- **StorageClassProvisioner** - сервис, который создает PV для определенного SC.

## 3. Snapshots

Объекты снимков данных:

- **VolumeSnapshot** — это запрос пользователя на создание моментального снимка тома.  
Он указывает на **PersistentVolumeClaim**, для которого будет создан **VolumeSnapshotContent** на основе параметров, описанных **VolumeSnapshotClass**.  

- **VolumeSnapshotContent** — это моментальный снимок тома в кластере, подготовленный администратором.  

- **VolumeSnapshotClass** - тут описываются параметры для создания снапшотов.  
В первую очередь это используемый CSI-драйвер, а также там можно указать дополнительные настройки, например, должны ли снапшоты быть инкрементальными и где они должны храниться.

---

<img src="https://github.com/AYaskuld/Kubernetes/blob/8196ef067d7d3706713efd5851d45a2cff9c7c55/images/k8s_storage_objects.jpg" width="1000" height="600" >
